var token = "e03510c6fccc76decc0303855da55508f1caa6af";
//https://aqicn.org/data-platform/token/ ç²å–token
var city ="here"
//https://aqicn.org/city/all 

function aqi(){
	let qurl = {
		url: "https://api.waqi.info/feed/" + city + "/?token=" + token, headers: {},
	};
	$task.fetch(qurl).then(response => {
		var obj = JSON.parse(response.body);
		info = obj.data.aqi;
		SyncTime = obj.data.time.s;
		if (info<50){text = "ğŸŸ¢ï¼Œè‰¯å¥½\nç©ºæ°£è³ªé‡éå¸¸ä»¤äººæ»¿æ„ï¼Œä¸å­˜åœ¨ç©ºæ°£æ±¡æŸ“å•é¡Œï¼Œå°å…¬çœ¾çš„å¥åº·æ²’æœ‰å±å®³ã€‚"
		}	else if (info<100){text = "ğŸŸ¡ï¼Œä¸­ç­‰\nç©ºæ°£ç‹€æ³åŸºæœ¬å¯æ¥å—ï¼Œé™¤æ¥µå°‘æ•¸å°æŸç¨®æ±¡æŸ“ç‰©ç‰¹åˆ¥æ•æ„Ÿçš„äººç¾¤ä»¥å¤–ï¼Œå°å…¬çœ¾å¥åº·æ²’æœ‰å±å®³ã€‚"
		}	else if (info<150){text = "ğŸŸ ï¼Œå°æ•æ„Ÿäººç¾¤æœ‰å®³\nç©ºæ°£è¼•å¾®æ±¡æŸ“ï¼Œå°æ±¡æŸ“ç‰©æ¯”è¼ƒæ•æ„Ÿçš„äººç¾¤ï¼Œä¾‹å¦‚å…’ç«¥å’Œè€å¹´äººã€å‘¼å¸é“ç–¾ç—…æˆ–å¿ƒè‡Ÿç—…æ‚£è€…ï¼Œä»–å€‘å¥åº·ç‹€æ³æœƒå—åˆ°å½±éŸ¿ï¼Œä½†å°å¥åº·äººç¾¤åŸºæœ¬æ²’æœ‰å½±éŸ¿ã€‚"
		}	else if (info<200){text = "ğŸ”´ï¼Œä¸å¥åº·!\nç©ºæ°£è¼•åº¦æ±¡æŸ“ï¼Œå¹¾ä¹æ‰€æœ‰äººçš„å¥åº·éƒ½æœƒå—åˆ°å½±éŸ¿ã€‚é€²ä¸€æ­¥åŠ åŠ‡æ˜“æ„Ÿäººç¾¤ç—‡ç‹€ï¼Œå¯èƒ½å°å¥åº·äººç¾¤å¿ƒè‡Ÿã€å‘¼å¸ç³»çµ±æœ‰å½±éŸ¿ã€‚å…’ç«¥ã€è€å¹´äººåŠå¿ƒè‡Ÿç—…ã€å‘¼å¸ç³»çµ±ç–¾ç—…æ‚£è€…é¿å…é•·æ™‚é–“ã€é«˜å¼·åº¦çš„æˆ¶å¤–é›ç·´,ä¸€èˆ¬äººç¾¤é©é‡æ¸›å°‘æˆ¶å¤–é‹å‹•ã€‚"
		}	else if (info<300){text = "ğŸŸ£ï¼Œæ¥µä¸å¥åº·!\nç©ºæ°£ä¸­åº¦æ±¡æŸ“ï¼Œæ¯å€‹äººçš„å¥åº·éƒ½æœƒå—åˆ°æ¯”è¼ƒåš´é‡çš„å½±éŸ¿ã€‚å…’ç«¥ã€è€å¹´äººå’Œå¿ƒè‡Ÿç—…ã€è‚ºç—…æ‚£è€…æ‡‰åœç•™åœ¨å®¤å…§ï¼Œåœæ­¢æˆ¶å¤–é‹å‹•ï¼Œä¸€èˆ¬äººç¾¤æ¸›å°‘æˆ¶å¤–é‹å‹•ã€‚"
		}	else {text = "ğŸŸ¤ï¼Œæœ‰æ¯’å®³!\nç©ºæ°£é‡åº¦æ±¡æŸ“ï¼Œæ‰€æœ‰äººçš„å¥åº·éƒ½æœƒå—åˆ°æ¥µç‚ºåš´é‡çš„å½±éŸ¿ã€‚å¥åº·äººç¾¤é‹å‹•è€å—åŠ›é™ä½ï¼Œæœ‰æ˜é¡¯å¼·çƒˆç—‡ç‹€ï¼Œæå‰å‡ºç¾æŸäº›ç–¾ç—…ã€‚å…’ç«¥ã€è€å¹´äººå’Œç—…äººæ‡‰ç•¶ç•™åœ¨å®¤å…§ï¼Œé¿å…é«”åŠ›æ¶ˆè€—ï¼Œä¸€èˆ¬äººç¾¤æ‡‰é¿å…æˆ¶å¤–æ´»å‹•ã€‚"
		}
		$notify("AQIcn.org", "æˆªè‡³" + SyncTime, "ç•¶å‰ä½ç½®AQIï¼š" + info + text);
	}, reason => {
	$notify("AQIcn.org ä¿¡æ¯è·å–å¤±è´¥", reason.error);
	});
}
aqi()